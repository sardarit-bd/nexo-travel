import{r as f,u as A,j as e,H as D,L as u}from"./app-C7rwmfcS.js";import{A as S}from"./AppLayout-CUogNpMW.js";import{F as b}from"./ChevronRightIcon-C9OY2Ggz.js";import{F as R}from"./MapPinIcon-B6SydrzP.js";import{F as T}from"./ClockIcon-BxF3tzX6.js";import{F as i}from"./CheckCircleIcon-swMoyRx5.js";import{F as o}from"./XMarkIcon-DQSo36bu.js";import{F as I}from"./StarIcon-BSaBHEVi.js";import{F as P}from"./CalendarDaysIcon-BWtYXokB.js";import{F as q}from"./UserIcon-DFOqjxtt.js";/* empty css            */import"./index-CelJ9Fyp.js";function V({package:s}){const[n,g]=f.useState(s.available_dates?.[0]||""),[t,j]=f.useState(1),[l,p]=f.useState("overview"),{data:N,setData:c,post:y,processing:m}=A({package_id:s.id,booking_date:n,number_of_people:t,special_requests:""}),v=a=>{a.preventDefault(),y(route("bookings.store"))};s.price*t;const x=()=>{if(s.image)return s.image.startsWith("http")?s.image:s.image.startsWith("packages/")||s.image.startsWith("storage/")?`/storage/${s.image.replace("storage/","")}`:s.image;const a=["bg-gradient-to-br from-blue-500 to-purple-600","bg-gradient-to-br from-emerald-500 to-cyan-600","bg-gradient-to-br from-amber-500 to-orange-600","bg-gradient-to-br from-rose-500 to-pink-600","bg-gradient-to-br from-indigo-500 to-blue-600","bg-gradient-to-br from-teal-500 to-green-600","bg-gradient-to-br from-orange-500 to-red-600","bg-gradient-to-br from-purple-500 to-pink-600"],r=s.id?s.id%a.length:0;return a[r]},w=s.image&&!x().includes("gradient"),F=()=>{if(!s.inclusions)return[];if(Array.isArray(s.inclusions))return s.inclusions;if(typeof s.inclusions=="string")try{const a=JSON.parse(s.inclusions);return Array.isArray(a)?a:[]}catch{return s.inclusions.split(",").map(a=>a.trim()).filter(a=>a)}return typeof s.inclusions=="object"?Object.values(s.inclusions):[]},_=()=>{if(!s.available_dates)return[];if(Array.isArray(s.available_dates))return s.available_dates.filter(a=>a).sort();if(typeof s.available_dates=="string")try{const a=s.available_dates.trim().replace(/^\"|\"$/g,""),r=JSON.parse(a);return Array.isArray(r)?r.filter(h=>h).sort():[]}catch{try{const a=JSON.parse(s.available_dates);return Array.isArray(a)?a.filter(r=>r).sort():[]}catch{return s.available_dates.includes(",")?s.available_dates.split(",").map(a=>a.trim().replace(/^"|"$/g,"")).filter(a=>a).sort():[s.available_dates]}}return[]},d=F(),$=_();return e.jsxs(S,{title:s.title,children:[e.jsx(D,{children:e.jsx("meta",{name:"description",content:s.description})}),e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-4",children:[e.jsx("li",{children:e.jsx(u,{href:route("home"),className:"text-gray-400 hover:text-gray-500",children:"Home"})}),e.jsx("li",{children:e.jsx(b,{className:"h-5 w-5 text-gray-400"})}),e.jsx("li",{children:e.jsx(u,{href:route("packages.index"),className:"text-gray-400 hover:text-gray-500",children:"Packages"})}),e.jsx("li",{children:e.jsx(b,{className:"h-5 w-5 text-gray-400"})}),e.jsx("li",{className:"text-gray-900 font-medium truncate",children:s.title})]})})})}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"mb-8 rounded-xl overflow-hidden shadow-lg",children:w?e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsx("img",{src:x(),alt:s.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500",onError:a=>{a.target.onerror=null,a.target.parentElement.innerHTML=`
                                                <div class="w-full h-full ${x()} flex items-center justify-center">
                                                    <div class="text-center">
                                                        <span class="text-white text-2xl font-bold block mb-2">${s.title}</span>
                                                        <span class="text-white/80">${s.destination?.name||"Amazing Destination"}</span>
                                                    </div>
                                                </div>
                                            `}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center text-white/90",children:[e.jsx(R,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:s.destination?.name||"Destination not specified"}),e.jsx(T,{className:"h-5 w-5 mr-2 ml-4"}),e.jsxs("span",{children:[s.duration_days," days"]})]})]})]}):e.jsx("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80`;",alt:""})})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:["overview","itinerary","inclusions","reviews"].map(a=>e.jsx("button",{onClick:()=>p(a),className:`py-4 px-1 border-b-2 font-medium text-sm ${l===a?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})}),e.jsxs("div",{className:"py-8",children:[l==="overview"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this package"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:s.description}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Highlights"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(i,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Expert local guides"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(i,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Small group tours"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(i,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Flexible booking options"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What's Included"}),e.jsx("ul",{className:"space-y-2",children:d.length>0?d.slice(0,3).map((a,r)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(i,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:a})]},r)):e.jsx("li",{className:"text-gray-500",children:"No inclusions listed"})})]})]})]}),l==="itinerary"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Daily Itinerary"}),e.jsx("div",{className:"space-y-8",children:Array.isArray(s.itinerary)&&s.itinerary.length>0?s.itinerary.map((a,r)=>e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex flex-col items-center mr-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsxs("span",{className:"text-indigo-600 font-bold",children:["Day ",a.day]})}),r<s.itinerary.length-1&&e.jsx("div",{className:"w-0.5 h-full bg-gray-300 my-2"})]}),e.jsxs("div",{className:"flex-1 pb-8",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:a.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:a.description})]})]},r)):e.jsx("p",{className:"text-gray-500",children:"No itinerary available"})})]}),l==="inclusions"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What's Included"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Included"}),e.jsx("ul",{className:"space-y-3",children:d.length>0?d.map((a,r)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(i,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:a})]},r)):e.jsx("li",{className:"text-gray-500",children:"No inclusions listed"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Not Included"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(o,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"International flights"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(o,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Travel insurance"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(o,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Personal expenses"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(o,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Visa fees"})]})]})]})]})]}),l==="reviews"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Traveler Reviews"}),e.jsx("div",{className:"space-y-6",children:[1,2,3].map(a=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"John Doe"}),e.jsxs("div",{className:"flex items-center mt-1",children:[[...Array(5)].map((r,h)=>e.jsx(I,{className:"h-4 w-4 text-yellow-400"},h)),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"March 2024"})]})]})}),e.jsx("p",{className:"text-gray-700",children:"Amazing experience! The tour was well-organized, and our guide was very knowledgeable. Would definitely recommend this package to anyone visiting."})]},a))})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-6",children:[e.jsx("div",{className:"text-center mb-6",children:s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price)?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-gray-400 line-through text-xl",children:["$",s.price]}),e.jsxs("div",{className:"text-4xl font-bold text-red-600",children:["$",s.offer_price]}),e.jsxs("div",{className:"inline-block bg-red-100 text-red-800 text-sm font-semibold px-3 py-1 rounded-full",children:[Math.round((parseFloat(s.price)-parseFloat(s.offer_price))/parseFloat(s.price)*100),"% OFF"]}),e.jsx("div",{className:"text-gray-600 mt-2",children:"per person"})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"text-3xl font-bold text-indigo-600",children:["$",s.price]}),e.jsx("div",{className:"text-gray-600",children:"per person"})]})}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[e.jsx(P,{className:"inline h-5 w-5 mr-2"}),"Select Date"]}),e.jsxs("select",{value:n,onChange:a=>{g(a.target.value),c("booking_date",a.target.value)},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a date"}),$.map(a=>{try{const r=new Date(a);return isNaN(r.getTime())?null:e.jsx("option",{value:a,children:r.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},a)}catch{return null}})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[e.jsx(q,{className:"inline h-5 w-5 mr-2"}),"Travelers"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>{const a=Math.max(1,t-1);j(a),c("number_of_people",a)},className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:e.jsx("span",{className:"text-lg",children:"-"})}),e.jsxs("span",{className:"text-xl font-semibold",children:[t," ",t===1?"Person":"People"]}),e.jsx("button",{type:"button",onClick:()=>{const a=t+1;j(a),c("number_of_people",a)},className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:e.jsx("span",{className:"text-lg",children:"+"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Special Requests"}),e.jsx("textarea",{value:N.special_requests,onChange:a=>c("special_requests",a.target.value),rows:"3",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Any special requirements or requests..."})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Package Price"}),e.jsx("div",{className:"text-right",children:s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price)?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-gray-400 line-through text-sm",children:["$",s.price]}),e.jsxs("div",{className:"font-semibold text-red-600 text-lg",children:["$",s.offer_price]})]}):e.jsxs("span",{className:"font-semibold",children:["$",s.price]})})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Person"}),e.jsx("span",{className:"font-semibold",children:t})]}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),e.jsx("div",{className:"text-right",children:s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price)?e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-gray-400 line-through text-sm",children:["$",(parseFloat(s.price)*t).toFixed(2)]}),e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",(parseFloat(s.offer_price)*t).toFixed(2),e.jsxs("span",{className:"ml-2 text-sm font-normal",children:["Save $",((parseFloat(s.price)-parseFloat(s.offer_price))*t).toFixed(2)]})]})]}):e.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:["$",(parseFloat(s.price)*t).toFixed(2)]})})]})})]}),e.jsx("button",{type:"submit",disabled:m||!n,className:`w-full py-3 px-4 rounded-md text-lg font-semibold ${m||!n?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:m?"Processing...":"Book Now"}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[e.jsx("p",{className:"mb-2",children:"✓ Free cancellation up to 30 days before"}),e.jsx("p",{children:"✓ Reserve now, pay later option available"})]})]})]})})]})})]})}export{V as default};
