import{r as _,j as e,H as F,L as C,a as o}from"./app-C7rwmfcS.js";import{A as P}from"./AdminLayout-CyG2N3OH.js";import{F as B}from"./ArrowLeftIcon-DT1XUS-l.js";import{F as S}from"./CurrencyDollarIcon-DwGh5nRL.js";import{F as j}from"./TicketIcon-CH8U8-AR.js";import{F as f}from"./CreditCardIcon-Cq53kYZz.js";import{F as y}from"./UserIcon-DFOqjxtt.js";import{F as $}from"./MapPinIcon-B6SydrzP.js";import{F as D}from"./ClockIcon-BxF3tzX6.js";import{F as m}from"./CheckCircleIcon-swMoyRx5.js";import{F as u}from"./XCircleIcon-DFMENdIW.js";import{F as b}from"./InformationCircleIcon-CIXRRFR5.js";/* empty css            */import"./Squares2X2Icon-DJChz5O5.js";import"./UserGroupIcon-BFqEtCNI.js";import"./XMarkIcon-DQSo36bu.js";import"./portal-BgFUahiJ.js";import"./transition-Cy0wZH5_.js";import"./ChevronDownIcon-agjRIJMC.js";function Y({booking:N}){const[d,r]=_.useState(!1),s=N||{},l=s.package||{},a=s.user||{},n=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t||0),x=t=>t?new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",v=t=>{const i={pending:{color:"bg-yellow-100 text-yellow-800",icon:b},confirmed:{color:"bg-blue-100 text-blue-800",icon:m},completed:{color:"bg-green-100 text-green-800",icon:m},cancelled:{color:"bg-red-100 text-red-800",icon:u}},c=i[t]||i.pending,h=c.icon;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c.color}`,children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),t?.charAt(0).toUpperCase()+t?.slice(1)||"Pending"]})},w=t=>{const i={pending:{color:"bg-yellow-100 text-yellow-800",icon:b},paid:{color:"bg-green-100 text-green-800",icon:m},failed:{color:"bg-red-100 text-red-800",icon:u}},c=i[t]||i.pending,h=c.icon;return e.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${c.color}`,children:[e.jsx(h,{className:"h-4 w-4 mr-1"}),t?.charAt(0).toUpperCase()+t?.slice(1)||"Pending"]})},g=t=>{confirm(`Are you sure you want to change status to "${t}"?`)&&(r(!0),o.put(route("admin.bookings.updateStatus",s.id),{status:t},{preserveScroll:!0,onSuccess:()=>r(!1),onError:()=>r(!1)}))},p=t=>{confirm(`Are you sure you want to change payment status to "${t}"?`)&&(r(!0),o.put(route("admin.bookings.updateStatus",s.id),{payment_status:t},{preserveScroll:!0,onSuccess:()=>r(!1),onError:()=>r(!1)}))},k=()=>{confirm("Are you sure you want to delete this booking?")&&o.delete(route("admin.bookings.destroy",s.id),{preserveScroll:!0,onSuccess:()=>{o.visit(route("admin.bookings.index"))}})};return e.jsxs(P,{title:"Booking Details",children:[e.jsx(F,{title:"Booking Details"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{href:route("admin.bookings.index"),className:"mr-4 text-gray-400 hover:text-gray-600",children:e.jsx(B,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Details"}),e.jsxs("p",{className:"text-gray-600",children:["Booking ID: #",s.id]})]})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx("button",{onClick:k,className:"px-4 py-2 border border-red-600 text-red-600 rounded-md text-sm font-medium hover:bg-red-50",children:"Delete Booking"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:n(s.total_price)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center",children:e.jsx(S,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Booking Status"}),e.jsx("div",{className:"mt-2",children:v(s.status)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-50 flex items-center justify-center",children:e.jsx(j,{className:"h-6 w-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Payment Status"}),e.jsx("div",{className:"mt-2",children:w(s.payment_status)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-50 flex items-center justify-center",children:e.jsx(f,{className:"h-6 w-6 text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Travelers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:s.number_of_people||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-50 flex items-center justify-center",children:e.jsx(y,{className:"h-6 w-6 text-purple-600"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(j,{className:"h-5 w-5 mr-2 text-indigo-600"}),"Booking Information"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:s.status||"pending",onChange:t=>g(t.target.value),disabled:d,className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("select",{value:s.payment_status||"pending",onChange:t=>p(t.target.value),disabled:d,className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-indigo-500 focus:border-indigo-500",children:[e.jsx("option",{value:"pending",children:"Payment Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Booking Date"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:x(s.booking_date)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Created At"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:x(s.created_at)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Number of People"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900 mt-1",children:[s.number_of_people||0," travelers"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Price"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 mt-1",children:n(s.total_price)})]})]}),s.special_requests&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Special Requests"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:s.special_requests})})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx($,{className:"h-5 w-5 mr-2 text-green-600"}),"Package Details"]}),l?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Package Name"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:l.title})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Duration"}),e.jsxs("p",{className:"text-sm font-medium text-gray-900 flex items-center",children:[e.jsx(D,{className:"h-4 w-4 mr-1"}),l.duration_days||0," days"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Price per person"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n(l.price)})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Description"}),e.jsx("p",{className:"text-sm text-gray-700 mt-1",children:l.description})]})]}):e.jsx("p",{className:"text-gray-500",children:"No package information available"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[e.jsx(y,{className:"h-5 w-5 mr-2 text-blue-600"}),"Customer Information"]}),a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.email})]}),a.phone&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.phone})]}),a.address&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Address"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:a.address})]})]}):e.jsx("p",{className:"text-gray-500",children:"No customer information available"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>g("confirmed"),disabled:d||s.status==="confirmed",className:`w-full flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${s.status==="confirmed"?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[e.jsx(m,{className:"h-4 w-4 mr-2"}),"Confirm Booking"]}),e.jsxs("button",{onClick:()=>p("paid"),disabled:d||s.payment_status==="paid",className:`w-full flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${s.payment_status==="paid"?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]}),e.jsxs("button",{onClick:()=>g("cancelled"),disabled:d||s.status==="cancelled",className:`w-full flex items-center justify-center px-4 py-2 border rounded-md shadow-sm text-sm font-medium ${s.status==="cancelled"?"bg-gray-100 text-gray-500 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,children:[e.jsx(u,{className:"h-4 w-4 mr-2"}),"Cancel Booking"]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Booking Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Package Price"}),e.jsx("span",{className:"text-sm font-medium",children:n(l.price)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Number of Travelers"}),e.jsx("span",{className:"text-sm font-medium",children:s.number_of_people||0})]}),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Total Amount"}),e.jsx("span",{className:"text-lg font-bold text-gray-900",children:n(s.total_price)})]})})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Booking Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:"absolute left-3 top-1 w-3 h-3 rounded-full bg-green-500 border-2 border-white"}),e.jsxs("div",{className:"ml-10",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Booking Created"}),e.jsxs("p",{className:"text-sm text-gray-500",children:[x(s.created_at)," â€¢ By ",a?.name||"Customer"]})]})]}),e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:`absolute left-3 top-1 w-3 h-3 rounded-full border-2 border-white ${s.payment_status==="paid"?"bg-green-500":"bg-yellow-500"}`}),e.jsxs("div",{className:"ml-10",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Payment ",s.payment_status==="paid"?"Completed":"Pending"]}),e.jsx("p",{className:"text-sm text-gray-500",children:s.payment_status==="paid"?"Payment received successfully":"Awaiting payment"})]})]}),e.jsxs("div",{className:"relative flex items-start",children:[e.jsx("div",{className:`absolute left-3 top-1 w-3 h-3 rounded-full border-2 border-white ${s.status==="completed"?"bg-green-500":s.status==="confirmed"?"bg-blue-500":s.status==="cancelled"?"bg-red-500":"bg-yellow-500"}`}),e.jsxs("div",{className:"ml-10",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Booking ",s.status?.charAt(0).toUpperCase()+s.status?.slice(1)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Current status: ",s.status||"pending"]})]})]})]})]})]})]})]})}export{Y as default};
