import{r as c,b,j as e,H as F,L as t}from"./app-C7rwmfcS.js";import{A as h}from"./AppLayout-CUogNpMW.js";import{F as l}from"./CheckCircleIcon-swMoyRx5.js";import{F as p}from"./XCircleIcon-DFMENdIW.js";import{F as j}from"./CreditCardIcon-Cq53kYZz.js";import{F as _}from"./TicketIcon-CH8U8-AR.js";import{F as g}from"./CalendarDaysIcon-BWtYXokB.js";import{F as k}from"./UserIcon-DFOqjxtt.js";import{F as f}from"./CurrencyDollarIcon-DwGh5nRL.js";import{F as u}from"./MapPinIcon-B6SydrzP.js";import{F as $}from"./ClockIcon-BxF3tzX6.js";import{F as P}from"./PhoneIcon-BhDREsAP.js";import{F as C}from"./EnvelopeIcon-HYUtUDOK.js";/* empty css            */import"./XMarkIcon-DQSo36bu.js";import"./index-CelJ9Fyp.js";function U({booking:s}){const[i,n]=c.useState(!1),[x,d]=c.useState(null),[m,N]=c.useState(null),{flash:r}=b().props;if(!s)return e.jsx(h,{children:e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Booking Not Found"}),e.jsx("p",{className:"mt-4",children:"The booking you are looking for does not exist."})]})})});const y=async()=>{n(!0),d(null),N(null);try{window.location.href=route("stripe.payment")+`?booking_id=${s.id}`}catch(a){console.error("Payment error:",a),d("Failed to redirect to payment page"),setTimeout(()=>d(null),5e3),n(!1)}},o=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return"Invalid Date"}},v=a=>{if(!a)return"bg-gray-100 text-gray-800";switch(a.toLowerCase()){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=a=>{if(!a)return"bg-gray-100 text-gray-800";switch(a.toLowerCase()){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return e.jsxs(h,{title:`Booking #${s.id||""}`,children:[e.jsxs(F,{children:[e.jsx("title",{children:`Booking #${s.id||""} - Travel Agency`}),e.jsx("meta",{name:"description",content:"View your booking details"})]}),r?.success&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"h-5 w-5 mr-2"}),r.success]})})}),r?.error&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),r.error]})})}),x&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"h-5 w-5 mr-2"}),x]})})}),m&&e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded shadow-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"h-5 w-5 mr-2"}),m]})})}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-4",children:[e.jsx("li",{children:e.jsx(t,{href:route("home"),className:"text-gray-400 hover:text-gray-500 transition",children:"Home"})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 mx-2",children:"›"}),e.jsx(t,{href:route("dashboard"),className:"text-gray-400 hover:text-gray-500 transition",children:"Dashboard"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 mx-2",children:"›"}),e.jsx(t,{href:route("user.bookings"),className:"text-gray-400 hover:text-gray-500 transition",children:"My Bookings"})]})}),e.jsx("li",{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"text-gray-400 mx-2",children:"›"}),e.jsxs("span",{className:"text-gray-900 font-medium",children:["Booking #",s.id||""]})]})})]})})})}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.status==="confirmed"&&s.payment_status==="paid"&&e.jsx("div",{className:"mb-8 bg-green-50 border border-green-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(l,{className:"h-12 w-12 text-green-500 mr-4 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Booking Confirmed!"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Your booking has been confirmed. We've sent a confirmation email to your registered email address."})]})]})}),s.status==="pending"&&s.payment_status==="pending"&&e.jsx("div",{className:"mb-8 bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{className:"h-12 w-12 text-yellow-500 mr-4 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Payment Required"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Your booking is pending payment. Please complete the payment to confirm your booking."})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(_,{className:"h-6 w-6 text-gray-400 mr-2"}),"Booking Details"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0 w-8",children:e.jsx("div",{className:"h-6 w-6 text-gray-400",children:"#"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Booking ID"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:["#",s.id||""]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(g,{className:"h-6 w-6 text-gray-400 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Booking Date"}),e.jsx("div",{className:"font-semibold text-gray-900",children:o(s.created_at)})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(g,{className:"h-6 w-6 text-gray-400 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Trip Date"}),e.jsx("div",{className:"font-semibold text-gray-900",children:o(s.booking_date)})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(k,{className:"h-6 w-6 text-gray-400 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Travelers"}),e.jsxs("div",{className:"font-semibold text-gray-900",children:[s.number_of_people||0," ",s.number_of_people===1?"Person":"People"]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx(f,{className:"h-6 w-6 text-gray-400 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Price"}),s.package?.offer_price&&parseFloat(s.package.offer_price)<parseFloat(s.package.price)?e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",parseFloat(s.total_price||0).toFixed(2)]})}):e.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:["$",parseFloat(s.total_price||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"h-6 w-6 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${v(s.status)}`,children:(s.status||"Pending").charAt(0).toUpperCase()+(s.status||"Pending").slice(1)})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"h-6 w-6 mr-2 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Payment Status"}),e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${w(s.payment_status)}`,children:(s.payment_status||"Pending").charAt(0).toUpperCase()+(s.payment_status||"Pending").slice(1)})]})]})]}),s.special_requests&&e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Special Requests"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("p",{className:"text-gray-700",children:s.special_requests})})]})]})]}),s.package&&e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[e.jsx(u,{className:"h-6 w-6 text-gray-400 mr-2"}),"Package Details"]}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start mb-6",children:[s.package.image&&e.jsx("div",{className:"w-full md:w-48 h-48 rounded-lg overflow-hidden mr-4 mb-4 md:mb-0",children:e.jsx("img",{src:s.package.image_url||`/storage/${s.package.image}`,alt:s.package.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:s.package.title}),e.jsx("p",{className:"text-gray-600 mt-2",children:s.package.description}),e.jsxs("div",{className:"flex flex-wrap gap-4 mt-4",children:[s.package.destination&&e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(u,{className:"h-4 w-4 mr-1"}),e.jsx("span",{children:s.package.destination.name})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{children:[s.package.duration_days," days"]})]}),e.jsxs("div",{className:"flex items-center text-gray-600",children:[e.jsx(f,{className:"h-4 w-4 mr-1"}),s.package?.offer_price&&parseFloat(s.package.offer_price)<parseFloat(s.package.price)?e.jsxs("span",{children:[e.jsxs("span",{className:"text-gray-400 line-through mr-2",children:["$",parseFloat(s.package.price||0).toFixed(2)]}),e.jsxs("span",{className:"text-red-600 font-medium",children:["$",parseFloat(s.package.offer_price||0).toFixed(2)]}),e.jsx("span",{className:"ml-2 text-xs bg-red-100 text-red-800 px-1.5 py-0.5 rounded",children:"Special Offer"})]}):e.jsxs("span",{children:["$",parseFloat(s.package?.price||0).toFixed(2)," per person"]})]})]}),e.jsx("div",{className:"mt-4",children:e.jsxs(t,{href:route("packages.show",s.package.id),className:"inline-flex items-center text-indigo-600 hover:text-indigo-800 font-medium",children:["View Package Details",e.jsx("svg",{className:"ml-2 h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})]})]})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-6",children:"Next Steps"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"1"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Check Your Email"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"We've sent a confirmation email with all the details."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"2"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Prepare Documents"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Make sure you have valid passports and necessary visas."})]})]}),e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx("span",{className:"text-indigo-600 font-bold",children:"3"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Contact Support"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Need help? Our support team is available 24/7."})]})]})]}),e.jsxs("div",{className:"mt-8 space-y-3",children:[e.jsx("button",{onClick:y,disabled:i||s.payment_status==="paid",className:`w-full py-3 px-4 rounded-lg transition font-medium flex items-center justify-center ${s.payment_status==="paid"?"bg-gray-300 text-gray-500 cursor-not-allowed":i?"bg-green-500 text-white opacity-50 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"}`,children:i?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):s.payment_status==="paid"?e.jsxs(e.Fragment,{children:[e.jsx(l,{className:"h-5 w-5 mr-2"}),"Payment Completed"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-5 w-5 mr-2"}),"Make Payment"]})}),s.payment_status==="paid"&&e.jsx("a",{href:route("invoice.booking",s.id),target:"_blank",className:"w-full bg-indigo-600 text-white py-3 px-4 rounded-lg hover:bg-indigo-700 transition font-medium flex items-center justify-center",children:"Download Invoice"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-6",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})}),"Need Help?"]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Our travel experts are here to help you with any questions."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"017XXXXXXXX"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"h-5 w-5 text-blue-500 mr-2 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:"support@travelagency.com"})]})]})]})]})]})]})})]})]})}export{U as default};
