import{r as d,u as v,j as e,H as w,L as o}from"./app-C7rwmfcS.js";import{A as N}from"./AdminLayout-CyG2N3OH.js";import{F as b}from"./MagnifyingGlassIcon-DbtKTknW.js";import{F}from"./FunnelIcon-edMO900g.js";import{F as C}from"./ChevronDownIcon-agjRIJMC.js";import{F as S}from"./UserIcon-DFOqjxtt.js";import{F as $}from"./CalendarDaysIcon-BWtYXokB.js";import{F as _}from"./ClockIcon-BxF3tzX6.js";import{F as L}from"./CheckCircleIcon-swMoyRx5.js";import{F as M}from"./XCircleIcon-DFMENdIW.js";import{F as B}from"./EyeIcon-DDFxnpfp.js";/* empty css            */import"./Squares2X2Icon-DJChz5O5.js";import"./TicketIcon-CH8U8-AR.js";import"./UserGroupIcon-BFqEtCNI.js";import"./XMarkIcon-DQSo36bu.js";import"./portal-BgFUahiJ.js";import"./transition-Cy0wZH5_.js";function Q({bookings:s}){const[i,m]=d.useState(""),[n,p]=d.useState("all"),[c,h]=d.useState("all"),[r,l]=d.useState([]),{patch:u}=v(),g=t=>{confirm(`Update ${r.length} bookings to ${t}?`)&&(r.forEach(a=>{u(route("admin.bookings.update",a),{status:t})}),l([]))},f=t=>{switch(t){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},j=t=>{switch(t){case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=s.data.filter(t=>!(n!=="all"&&t.status!==n||c!=="all"&&t.payment_status!==c||i&&!t.user.name.toLowerCase().includes(i.toLowerCase())&&!t.package.title.toLowerCase().includes(i.toLowerCase())));return e.jsxs(N,{title:"Bookings",children:[e.jsx(w,{title:"Manage Bookings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900"}),e.jsx("p",{className:"mt-1 text-gray-600"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[{label:"Total Bookings",value:s.total,change:"+12%",trend:"up",icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",color:"bg-blue-500"},{label:"Total Revenue",value:`$${s.data.reduce((t,a)=>t+parseFloat(a.total_price),0).toLocaleString()}`,change:"+18%",trend:"up",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"bg-green-500"},{label:"Pending Bookings",value:s.data.filter(t=>t.status==="pending").length,change:"-3%",trend:"down",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",color:"bg-yellow-500"},{label:"Avg. Booking Value",value:`$${Math.round(s.data.reduce((t,a)=>t+parseFloat(a.total_price),0)/s.total)}`,change:"+5%",trend:"up",icon:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z",color:"bg-purple-500"}].map((t,a)=>e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:t.label}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:t.value})]}),e.jsx("div",{className:`h-12 w-12 rounded-full ${t.color} flex items-center justify-center`,children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:t.icon})})})]})},a))}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by customer name or package...",value:i,onChange:t=>m(t.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 text-gray-400"}),e.jsxs("select",{value:n,onChange:t=>p(t.target.value),className:"border border-gray-300 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("select",{value:c,onChange:t=>h(t.target.value),className:"border border-gray-300 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Payments"}),e.jsx("option",{value:"pending",children:"Payment Pending"}),e.jsx("option",{value:"paid",children:"Paid"}),e.jsx("option",{value:"failed",children:"Failed"})]})}),r.length>0&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[r.length," selected"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{onChange:t=>g(t.target.value),className:"appearance-none bg-indigo-600 text-white border border-indigo-600 rounded-lg py-2 pl-3 pr-8 text-sm focus:outline-none focus:ring-1 focus:ring-indigo-500",children:[e.jsx("option",{value:"",children:"Update Status"}),e.jsx("option",{value:"confirmed",children:"Confirm Selected"}),e.jsx("option",{value:"completed",children:"Mark as Completed"}),e.jsx("option",{value:"cancelled",children:"Cancel Selected"})]}),e.jsx(C,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-white"})]}),e.jsx("button",{onClick:()=>l([]),className:"text-gray-400 hover:text-gray-600",children:"Clear"})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:t=>{t.target.checked?l(s.data.map(a=>a.id)):l([])}})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Booking ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:r.includes(t.id),onChange:a=>{a.target.checked?l([...r,t.id]):l(r.filter(y=>y!==t.id))},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",t.id]}),e.jsx("div",{className:"text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center",children:e.jsx(S,{className:"h-4 w-4 text-gray-600"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.user.name}),e.jsx("div",{className:"text-sm text-gray-500",children:t.user.email})]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.package.title}),e.jsx("div",{className:"text-sm text-gray-500",children:t.package.destination.name})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),new Date(t.booking_date).toLocaleDateString()]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[t.number_of_people," people"]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsxs("div",{className:"text-sm font-semibold text-gray-900",children:["$",t.total_price]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["$",t.package.price," Ã— ",t.number_of_people]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(t.status)}`,children:[t.status==="pending"&&e.jsx(_,{className:"h-3 w-3 mr-1"}),t.status==="confirmed"&&e.jsx(L,{className:"h-3 w-3 mr-1"}),t.status==="cancelled"&&e.jsx(M,{className:"h-3 w-3 mr-1"}),t.status]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(t.payment_status)}`,children:t.payment_status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center space-x-3",children:e.jsx(o,{href:route("admin.bookings.show",t.id),className:"text-gray-400 hover:text-gray-600",title:"View Details",children:e.jsx(B,{className:"h-5 w-5"})})})})]},t.id))})]})}),x.length===0&&e.jsxs("div",{className:"px-6 py-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),e.jsx("h3",{className:"mt-4 text-lg font-semibold text-gray-900",children:"No bookings found"}),e.jsx("p",{className:"mt-2 text-gray-600",children:i||n!=="all"||c!=="all"?"No bookings match your filters.":"No bookings have been made yet."})]}),s.links.length>3&&e.jsx("div",{className:"px-6 py-4 border-t border-gray-200",children:e.jsxs("nav",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex-1 flex justify-between sm:hidden",children:s.links.map((t,a)=>e.jsx(o,{href:t.url||"#",className:`relative inline-flex items-center px-4 py-2 text-sm font-medium ${t.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},a))}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:s.from})," to"," ",e.jsx("span",{className:"font-medium",children:s.to})," of"," ",e.jsx("span",{className:"font-medium",children:s.total})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:s.links.map((t,a)=>e.jsx(o,{href:t.url||"#",className:`relative inline-flex items-center px-4 py-2 text-sm font-medium ${t.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${t.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:t.label}},a))})})]})]})})]})]})]})}export{Q as default};
