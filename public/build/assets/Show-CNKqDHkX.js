import{r as i,u as S,j as e,H as D,L as g}from"./app-DdrJOuLf.js";import{A as R}from"./AppLayout-BY-MsKLS.js";import{F as T}from"./MapPinIcon--q6RWxtX.js";import{F as I}from"./ClockIcon-epOh2pnu.js";import{F as c}from"./CheckCircleIcon-DV_RuKyx.js";import{F as x}from"./XMarkIcon-Du0mSrsd.js";import{F as C}from"./StarIcon-Qt9Mg1E4.js";import{F as E}from"./CalendarDaysIcon-BedKHaEX.js";import{F as q}from"./UserIcon-C-TSaPVn.js";/* empty css            */import"./index-CDhH24pG.js";function L({title:a,titleId:l,...h},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":l},h),a?i.createElement("title",{id:l},a):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const f=i.forwardRef(L);function K({package:a}){const[l,h]=i.useState(a.available_dates?.[0]||""),[r,b]=i.useState(1),[n,N]=i.useState("overview"),{data:p,setData:d,post:v,processing:j}=S({package_id:a.id,booking_date:l,number_of_people:r,special_requests:""}),y=s=>{s.preventDefault(),v(route("bookings.store"))},w=a.price*r,o=()=>{if(a.image)return a.image.startsWith("http")?a.image:a.image.startsWith("packages/")||a.image.startsWith("storage/")?`/storage/${a.image.replace("storage/","")}`:a.image;const s=["bg-gradient-to-br from-blue-500 to-purple-600","bg-gradient-to-br from-emerald-500 to-cyan-600","bg-gradient-to-br from-amber-500 to-orange-600","bg-gradient-to-br from-rose-500 to-pink-600","bg-gradient-to-br from-indigo-500 to-blue-600","bg-gradient-to-br from-teal-500 to-green-600","bg-gradient-to-br from-orange-500 to-red-600","bg-gradient-to-br from-purple-500 to-pink-600"],t=a.id?a.id%s.length:0;return s[t]},_=a.image&&!o().includes("gradient"),A=()=>{if(!a.inclusions)return[];if(Array.isArray(a.inclusions))return a.inclusions;if(typeof a.inclusions=="string")try{const s=JSON.parse(a.inclusions);return Array.isArray(s)?s:[]}catch{return a.inclusions.split(",").map(s=>s.trim()).filter(s=>s)}return typeof a.inclusions=="object"?Object.values(a.inclusions):[]},$=()=>{if(!a.available_dates)return[];if(Array.isArray(a.available_dates))return a.available_dates.filter(s=>s).sort();if(typeof a.available_dates=="string")try{const s=a.available_dates.trim().replace(/^\"|\"$/g,""),t=JSON.parse(s);return Array.isArray(t)?t.filter(u=>u).sort():[]}catch{try{const s=JSON.parse(a.available_dates);return Array.isArray(s)?s.filter(t=>t).sort():[]}catch{return a.available_dates.includes(",")?a.available_dates.split(",").map(s=>s.trim().replace(/^"|"$/g,"")).filter(s=>s).sort():[a.available_dates]}}return[]},m=A(),F=$();return e.jsxs(R,{title:a.title,children:[e.jsx(D,{children:e.jsx("meta",{name:"description",content:a.description})}),e.jsx("div",{className:"bg-white border-b",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-4 sm:px-6 lg:px-8",children:e.jsx("nav",{className:"flex","aria-label":"Breadcrumb",children:e.jsxs("ol",{className:"flex items-center space-x-4",children:[e.jsx("li",{children:e.jsx(g,{href:route("home"),className:"text-gray-400 hover:text-gray-500",children:"Home"})}),e.jsx("li",{children:e.jsx(f,{className:"h-5 w-5 text-gray-400"})}),e.jsx("li",{children:e.jsx(g,{href:route("packages.index"),className:"text-gray-400 hover:text-gray-500",children:"Packages"})}),e.jsx("li",{children:e.jsx(f,{className:"h-5 w-5 text-gray-400"})}),e.jsx("li",{className:"text-gray-900 font-medium truncate",children:a.title})]})})})}),e.jsx("div",{className:"mx-auto max-w-7xl px-4 py-8 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("div",{className:"mb-8 rounded-xl overflow-hidden shadow-lg",children:_?e.jsxs("div",{className:"relative h-96 overflow-hidden",children:[e.jsx("img",{src:o(),alt:a.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500",onError:s=>{s.target.onerror=null,s.target.parentElement.innerHTML=`
                                                <div class="w-full h-full ${o()} flex items-center justify-center">
                                                    <div class="text-center">
                                                        <span class="text-white text-2xl font-bold block mb-2">${a.title}</span>
                                                        <span class="text-white/80">${a.destination?.name||"Amazing Destination"}</span>
                                                    </div>
                                                </div>
                                            `}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:a.title}),e.jsxs("div",{className:"flex items-center text-white/90",children:[e.jsx(T,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:a.destination?.name||"Destination not specified"}),e.jsx(I,{className:"h-5 w-5 mr-2 ml-4"}),e.jsxs("span",{children:[a.duration_days," days"]})]})]})]}):e.jsx("div",{className:`h-96 ${o()} flex items-center justify-center`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-white text-2xl font-bold block mb-2",children:a.title}),e.jsx("span",{className:"text-white/80",children:a.destination?.name||"Amazing Destination"})]})})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:["overview","itinerary","inclusions","reviews"].map(s=>e.jsx("button",{onClick:()=>N(s),className:`py-4 px-1 border-b-2 font-medium text-sm ${n===s?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})}),e.jsxs("div",{className:"py-8",children:[n==="overview"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"About this package"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:a.description}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Highlights"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(c,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Expert local guides"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(c,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Small group tours"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(c,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Flexible booking options"})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What's Included"}),e.jsx("ul",{className:"space-y-2",children:m.length>0?m.slice(0,3).map((s,t)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(c,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:s})]},t)):e.jsx("li",{className:"text-gray-500",children:"No inclusions listed"})})]})]})]}),n==="itinerary"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Daily Itinerary"}),e.jsx("div",{className:"space-y-8",children:Array.isArray(a.itinerary)&&a.itinerary.length>0?a.itinerary.map((s,t)=>e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"flex flex-col items-center mr-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsxs("span",{className:"text-indigo-600 font-bold",children:["Day ",s.day]})}),t<a.itinerary.length-1&&e.jsx("div",{className:"w-0.5 h-full bg-gray-300 my-2"})]}),e.jsxs("div",{className:"flex-1 pb-8",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:s.title}),e.jsx("p",{className:"mt-2 text-gray-600",children:s.description})]})]},t)):e.jsx("p",{className:"text-gray-500",children:"No itinerary available"})})]}),n==="inclusions"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"What's Included"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Included"}),e.jsx("ul",{className:"space-y-3",children:m.length>0?m.map((s,t)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx(c,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5"}),e.jsx("span",{children:s})]},t)):e.jsx("li",{className:"text-gray-500",children:"No inclusions listed"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Not Included"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx(x,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"International flights"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(x,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Travel insurance"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(x,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Personal expenses"})]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx(x,{className:"h-5 w-5 text-red-500 mr-2 mt-0.5"}),e.jsx("span",{children:"Visa fees"})]})]})]})]})]}),n==="reviews"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Traveler Reviews"}),e.jsx("div",{className:"space-y-6",children:[1,2,3].map(s=>e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:"John Doe"}),e.jsxs("div",{className:"flex items-center mt-1",children:[[...Array(5)].map((t,u)=>e.jsx(C,{className:"h-4 w-4 text-yellow-400"},u)),e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:"March 2024"})]})]})}),e.jsx("p",{className:"text-gray-700",children:"Amazing experience! The tour was well-organized, and our guide was very knowledgeable. Would definitely recommend this package to anyone visiting."})]},s))})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sticky top-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("div",{className:"text-3xl font-bold text-indigo-600",children:["$",a.price]}),e.jsx("div",{className:"text-gray-600",children:"per person"})]}),e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[e.jsx(E,{className:"inline h-5 w-5 mr-2"}),"Select Date"]}),e.jsxs("select",{value:l,onChange:s=>{h(s.target.value),d("booking_date",s.target.value)},className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a date"}),F.map(s=>{try{const t=new Date(s);return isNaN(t.getTime())?null:e.jsx("option",{value:s,children:t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})},s)}catch{return null}})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:[e.jsx(q,{className:"inline h-5 w-5 mr-2"}),"Travelers"]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>{const s=Math.max(1,r-1);b(s),d("number_of_people",s)},className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:e.jsx("span",{className:"text-lg",children:"-"})}),e.jsxs("span",{className:"text-xl font-semibold",children:[r," ",r===1?"Person":"People"]}),e.jsx("button",{type:"button",onClick:()=>{const s=r+1;b(s),d("number_of_people",s)},className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:e.jsx("span",{className:"text-lg",children:"+"})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Special Requests"}),e.jsx("textarea",{value:p.special_requests,onChange:s=>d("special_requests",s.target.value),rows:"3",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"Any special requirements or requests..."})]}),e.jsxs("div",{className:"mb-6 bg-gray-50 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"text-gray-600",children:["$",a.price," × ",r," people"]}),e.jsxs("span",{className:"font-semibold",children:["$",a.price*r]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Service fee"}),e.jsx("span",{className:"font-semibold",children:"$49.99"})]}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:["$",(w+49.99).toFixed(2)]})]})})]}),e.jsx("button",{type:"submit",disabled:j||!l,className:`w-full py-3 px-4 rounded-md text-lg font-semibold ${j||!l?"bg-gray-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}`,children:j?"Processing...":"Book Now"}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[e.jsx("p",{className:"mb-2",children:"✓ Free cancellation up to 30 days before"}),e.jsx("p",{children:"✓ Reserve now, pay later option available"})]})]})]})})]})})]})}export{K as default};
