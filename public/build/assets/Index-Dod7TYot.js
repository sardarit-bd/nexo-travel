import{b as C,r as a,j as e,H as L,a as f,L as P}from"./app-DdrJOuLf.js";import{A as R}from"./AppLayout-BY-MsKLS.js";import{F as A}from"./MagnifyingGlassIcon-Banfdg9u.js";import{F as H}from"./StarIcon-Qt9Mg1E4.js";import{F as I}from"./MapPinIcon--q6RWxtX.js";import{F as $}from"./ClockIcon-epOh2pnu.js";/* empty css            */import"./UserIcon-C-TSaPVn.js";import"./XMarkIcon-Du0mSrsd.js";import"./index-CDhH24pG.js";function Q({packages:g,filters:j={},search:w=""}){const{url:U}=C(),d=g||{},y=d.data||[];d.links;const b=j.destinations||[],[B,M]=a.useState("grid"),[v,E]=a.useState(!1),[m,u]=a.useState(w),[l,n]=a.useState([]),[s,i]=a.useState([0,5e3]),[x,o]=a.useState(""),[h,c]=a.useState("featured");a.useEffect(()=>{const t=new URLSearchParams(window.location.search);if(t.get("destinations"))try{n(JSON.parse(t.get("destinations")))}catch{}t.get("min_price")&&i([parseInt(t.get("min_price")),s[1]]),t.get("max_price")&&i([s[0],parseInt(t.get("max_price"))]),t.get("duration")&&o(t.get("duration")),t.get("sort_by")&&c(t.get("sort_by"))},[]);const N=t=>{const r=parseFloat(t||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(r)},S=t=>t?t.startsWith("http")?t:`/storage/${t}`:null,p=()=>{f.get(route("packages.index"),{search:m,destinations:l,min_price:s[0],max_price:s[1],duration:x,sort_by:h},{preserveState:!0,replace:!0})},F=t=>{t&&t.preventDefault(),p()},D=()=>{u(""),n([]),i([0,5e3]),o(""),c("featured"),f.get(route("packages.index"),{},{preserveState:!0,replace:!0})},_=({pkg:t})=>{const r=S(t.image);return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[e.jsxs("div",{className:"relative h-48",children:[r?e.jsx("img",{src:r,alt:t.title,className:"h-full w-full object-cover"}):e.jsx("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80`;",alt:""})}),t.is_featured&&e.jsx("div",{className:"absolute top-3 left-3",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-yellow-200 text-yellow-800",children:[e.jsx(H,{className:"h-3 w-3 mr-1"})," Featured"]})}),e.jsx("div",{className:"absolute bottom-3 right-3",children:e.jsx("span",{className:"px-3 py-1 bg-white text-gray-800 rounded-full font-bold shadow",children:N(t.price)})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title}),e.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-600",children:[e.jsx(I,{className:"h-4 w-4 mr-1"}),t.destination?.name??"Unknown Destination"]}),e.jsx("p",{className:"mt-3 text-gray-600 text-sm line-clamp-2",children:t.description}),e.jsx("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"h-4 w-4 mr-1"}),t.duration_days||0," days"]})}),e.jsx("div",{className:"mt-6",children:e.jsx(P,{href:route("packages.show",t.id),className:"block w-full bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700",children:"View Details"})})]})]})};return e.jsxs(R,{title:"Travel Packages",children:[e.jsx(L,{children:e.jsx("meta",{name:"description",content:"Browse travel packages..."})}),e.jsx("div",{className:"mx-auto max-w-2xl px-4 py-2",children:e.jsxs("form",{onSubmit:F,className:"relative",children:[e.jsx("input",{type:"text",value:m,onChange:t=>u(t.target.value),placeholder:"Search packages...",className:"w-full pl-10 pr-40 py-3 border rounded-lg"}),e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 text-gray-400"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-indigo-600 text-white px-4 py-2 rounded",children:"Search"})]})}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 flex gap-8",children:[e.jsx("div",{className:`w-1/4 ${v?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow sticky top-4",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Filters"}),e.jsx("h3",{className:"font-medium mb-2",children:"Destinations"}),b.map(t=>e.jsxs("label",{className:"flex items-center mb-2",children:[e.jsx("input",{type:"checkbox",checked:l.includes(t.id),onChange:r=>{r.target.checked?n([...l,t.id]):n(l.filter(k=>k!==t.id))}}),e.jsx("span",{className:"ml-2 text-sm",children:t.name})]},t.id)),e.jsxs("h3",{className:"font-medium mt-4 mb-2",children:["Price: $",s[0]," - $",s[1]]}),e.jsx("input",{type:"range",min:"0",max:"10000",value:s[0],onChange:t=>i([parseInt(t.target.value),s[1]]),className:"w-full"}),e.jsx("input",{type:"range",min:"0",max:"10000",value:s[1],onChange:t=>i([s[0],parseInt(t.target.value)]),className:"w-full mt-3"}),e.jsx("h3",{className:"font-medium mt-4 mb-2",children:"Duration"}),e.jsxs("select",{className:"w-full border rounded px-2 py-2",value:x,onChange:t=>o(t.target.value),children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"1-3",children:"1–3 days"}),e.jsx("option",{value:"4-7",children:"4–7 days"}),e.jsx("option",{value:"8-14",children:"8–14 days"}),e.jsx("option",{value:"15+",children:"15+ days"})]}),e.jsx("h3",{className:"font-medium mt-4 mb-2",children:"Sort by"}),e.jsxs("select",{className:"w-full border rounded px-2 py-2",value:h,onChange:t=>c(t.target.value),children:[e.jsx("option",{value:"featured",children:"Featured"}),e.jsx("option",{value:"price_asc",children:"Price: Low → High"}),e.jsx("option",{value:"price_desc",children:"Price: High → Low"}),e.jsx("option",{value:"duration_asc",children:"Duration: Short → Long"}),e.jsx("option",{value:"duration_desc",children:"Duration: Long → Short"}),e.jsx("option",{value:"newest",children:"Newest"})]}),e.jsx("button",{onClick:p,className:"mt-6 w-full bg-indigo-600 text-white py-2 rounded",children:"Apply Filters"}),e.jsx("button",{onClick:D,className:"mt-2 w-full border py-2 rounded",children:"Clear All"})]})}),e.jsx("div",{className:"w-3/4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y.map(t=>e.jsx(_,{pkg:t},t.id))})})]})]})}export{Q as default};
