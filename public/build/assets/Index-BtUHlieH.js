import{r as t,b as I,j as e,H as T,L as v,a as O}from"./app-C7rwmfcS.js";import{A as W}from"./AppLayout-CUogNpMW.js";import{F as M}from"./MagnifyingGlassIcon-DbtKTknW.js";import{F as q}from"./Squares2X2Icon-DJChz5O5.js";import{F as p}from"./XMarkIcon-DQSo36bu.js";import{F as A}from"./MapPinIcon-B6SydrzP.js";import{F as E}from"./ClockIcon-BxF3tzX6.js";import{F as G}from"./StarIcon-BSaBHEVi.js";/* empty css            */import"./UserIcon-DFOqjxtt.js";import"./index-CelJ9Fyp.js";function z({title:o,titleId:c,...x},g){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:g,"aria-labelledby":c},x),o?t.createElement("title",{id:c},o):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const J=t.forwardRef(z);function Y({title:o,titleId:c,...x},g){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:g,"aria-labelledby":c},x),o?t.createElement("title",{id:c},o):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const K=t.forwardRef(Y);function ce({packages:o,filters:c={},search:x=""}){const{url:g}=I(),F=o||{},h=F.data||[],S=F.links||[],_=c.destinations||[],[y,C]=t.useState("grid"),[H,P]=t.useState(!1),[d,N]=t.useState(x),[n,u]=t.useState([]),[a,m]=t.useState([0,5e3]),[f,j]=t.useState(""),[B,D]=t.useState("featured"),[b,w]=t.useState(!1);t.useEffect(()=>{const s=new URLSearchParams(window.location.search);if(s.get("destinations"))try{u(JSON.parse(s.get("destinations")))}catch{}s.get("min_price")&&m([parseInt(s.get("min_price")),a[1]]),s.get("max_price")&&m([a[0],parseInt(s.get("max_price"))]),s.get("duration")&&j(s.get("duration")),s.get("sort_by")&&D(s.get("sort_by")),s.get("special_offers")&&w(s.get("special_offers")==="true")},[]);const l=s=>{const r=parseFloat(s||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(r)},$=s=>s?s.startsWith("http")?s:`/storage/${s}`:null,R=(s,r)=>!r||r>=s||s<=0?0:Math.round((s-r)/s*100),k=()=>{O.get(route("packages.index"),{search:d,destinations:n,min_price:a[0],max_price:a[1],duration:f,sort_by:B,special_offers:b},{preserveState:!0,replace:!0})},Z=s=>{s&&s.preventDefault(),k()},L=()=>{N(""),u([]),m([0,5e3]),j(""),D("featured"),w(!1),O.get(route("packages.index"),{},{preserveState:!0,replace:!0})},U=({pkg:s})=>{const r=$(s.image),i=s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price||0),V=i?R(parseFloat(s.price),parseFloat(s.offer_price)):0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-xl transition-all duration-300 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative h-48 overflow-hidden",children:[r?e.jsx("img",{src:r,alt:s.title,className:"h-full w-full object-cover transition-transform duration-500 hover:scale-105"}):e.jsx("div",{className:"h-full w-full bg-gray-200 flex items-center justify-center",children:e.jsx("img",{src:"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80`;",alt:""})}),e.jsxs("div",{className:"absolute top-3 left-3 flex flex-col gap-1",children:[s.is_featured&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-yellow-500 text-white shadow-md",children:[e.jsx(G,{className:"h-3 w-3 mr-1"})," Featured"]}),i&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs bg-red-500 text-white shadow-md",children:[e.jsx(K,{className:"h-3 w-3 mr-1"})," ",V,"% OFF"]})]}),e.jsx("div",{className:"absolute bottom-3 right-3",children:i?e.jsxs("div",{className:"bg-white p-2 rounded-lg shadow-lg text-center min-w-[100px]",children:[e.jsx("div",{className:"text-sm text-gray-500 line-through",children:l(s.price)}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:l(s.offer_price)})]}):e.jsx("span",{className:"px-4 py-2 bg-white text-gray-800 rounded-lg font-bold shadow-lg text-lg",children:l(s.price)})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 hover:text-indigo-600 transition-colors duration-200",children:s.title}),e.jsxs("div",{className:"flex items-center mt-2 text-sm text-gray-600",children:[e.jsx(A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.destination?.name??"Unknown Destination"})]}),e.jsx("p",{className:"mt-3 text-gray-600 text-sm line-clamp-2 min-h-[40px]",children:s.description}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center bg-gray-50 px-3 py-1.5 rounded-full",children:[e.jsx(E,{className:"h-4 w-4 mr-1"}),e.jsxs("span",{className:"font-medium",children:[s.duration_days||0," days"]})]}),i&&e.jsx("div",{className:"bg-red-50 text-red-700 px-3 py-1.5 rounded-full font-medium",children:"Special Offer"})]}),e.jsx("div",{className:"mt-6",children:e.jsx(v,{href:route("packages.show",s.id),className:"block w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-4 py-3 rounded-md hover:from-indigo-700 hover:to-purple-700 text-center font-medium transition-all duration-200 shadow-md hover:shadow-lg",children:"View Details"})})]})]})};return e.jsxs(W,{title:"Travel Packages",children:[e.jsx(T,{children:e.jsx("meta",{name:"description",content:"Browse travel packages with special offers and discounts"})}),e.jsx("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl px-4",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Explore Amazing Travel Packages"})}),e.jsx("div",{className:"max-w-3xl mx-auto",children:e.jsxs("form",{onSubmit:Z,className:"relative",children:[e.jsx("input",{type:"text",value:d,onChange:s=>N(s.target.value),placeholder:"Search packages by title, destination, or keywords...",className:"w-full pl-12 pr-40 py-4 border border-gray-300 rounded-xl shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-transparent text-lg"}),e.jsx(M,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-gray-400"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-md",children:"Search"})]})})]})}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-8 flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:`${H?"block":"hidden lg:block"} lg:w-1/4`,children:e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-lg sticky top-4 border border-gray-100",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"font-bold text-xl text-gray-900",children:"Filters"}),e.jsx("button",{onClick:L,className:"text-sm text-red-600 hover:text-red-800",children:"Clear All"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:"Special Offers"}),e.jsxs("span",{className:"bg-red-100 text-red-800 text-xs px-2 py-1 rounded-full",children:[h.filter(s=>s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price||0)).length," available"]})]}),e.jsxs("label",{className:"flex items-center mt-3 p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors duration-200",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:s=>w(s.target.checked),className:"h-5 w-5 text-red-600 focus:ring-red-500 rounded"}),e.jsx("span",{className:"ml-3 font-medium text-gray-700",children:"Show offers"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Destinations"}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:_.map(s=>e.jsxs("label",{className:"flex items-center p-2 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors duration-200",children:[e.jsx("input",{type:"checkbox",checked:n.includes(s.id),onChange:r=>{r.target.checked?u([...n,s.id]):u(n.filter(i=>i!==s.id))},className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 rounded"}),e.jsx("span",{className:"ml-3 text-gray-700",children:s.name})]},s.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 mb-3",children:["Price Range: ",l(a[0])," - ",l(a[1])]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"relative pt-1",children:[e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:a[0],onChange:s=>m([parseInt(s.target.value),a[1]]),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsx("input",{type:"range",min:"0",max:"10000",step:"100",value:a[1],onChange:s=>m([a[0],parseInt(s.target.value)]),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer mt-4"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mt-2",children:[e.jsx("span",{children:"$0"}),e.jsx("span",{children:"$5,000"}),e.jsx("span",{children:"$10,000"})]})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:"Duration"}),e.jsxs("select",{className:"w-full border border-gray-300 rounded-lg px-3 py-2.5 focus:ring-2 focus:ring-indigo-500 focus:border-transparent bg-white",value:f,onChange:s=>j(s.target.value),children:[e.jsx("option",{value:"",children:"All Durations"}),e.jsx("option",{value:"1-3",children:"1–3 days"}),e.jsx("option",{value:"4-7",children:"4–7 days"}),e.jsx("option",{value:"8-14",children:"8–14 days"}),e.jsx("option",{value:"15+",children:"15+ days"})]})]}),e.jsx("button",{onClick:k,className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-3 rounded-lg font-medium hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-md",children:"Apply Filters"}),e.jsx("button",{onClick:()=>P(!1),className:"lg:hidden w-full mt-4 border border-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-50",children:"Close Filters"})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[h.length," Travel Packages"]}),e.jsxs("p",{className:"text-gray-600 mt-1",children:[n.length>0&&`${n.length} destinations selected • `,d&&`Results for "${d}"`]})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsx("button",{onClick:()=>C("grid"),className:`p-2 rounded-lg ${y==="grid"?"bg-indigo-100 text-indigo-600":"text-gray-500 hover:bg-gray-100"}`,children:e.jsx(q,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>C("list"),className:`p-2 rounded-lg ${y==="list"?"bg-indigo-100 text-indigo-600":"text-gray-500 hover:bg-gray-100"}`,children:e.jsx(J,{className:"h-5 w-5"})})]})})]}),(n.length>0||d||a[0]>0||a[1]<5e3||f||b)&&e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[d&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-blue-100 text-blue-800 text-sm",children:["Search: ",d,e.jsx("button",{onClick:()=>N(""),className:"ml-2",children:e.jsx(p,{className:"h-3 w-3"})})]}),b&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-red-100 text-red-800 text-sm",children:["Special Offers Only",e.jsx("button",{onClick:()=>w(!1),className:"ml-2",children:e.jsx(p,{className:"h-3 w-3"})})]}),n.map(s=>{const r=_.find(i=>i.id===s);return r&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-indigo-100 text-indigo-800 text-sm",children:[r.name,e.jsx("button",{onClick:()=>u(n.filter(i=>i!==s)),className:"ml-2",children:e.jsx(p,{className:"h-3 w-3"})})]},s)}),(a[0]>0||a[1]<5e3)&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-green-100 text-green-800 text-sm",children:["Price: ",l(a[0])," - ",l(a[1]),e.jsx("button",{onClick:()=>m([0,5e3]),className:"ml-2",children:e.jsx(p,{className:"h-3 w-3"})})]}),f&&e.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full bg-purple-100 text-purple-800 text-sm",children:["Duration: ",f,e.jsx("button",{onClick:()=>j(""),className:"ml-2",children:e.jsx(p,{className:"h-3 w-3"})})]})]})]}),y==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(s=>e.jsx(U,{pkg:s},s.id))}):e.jsx("div",{className:"space-y-4",children:h.map(s=>e.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[e.jsx("div",{className:"md:w-1/3",children:e.jsx("div",{className:"relative h-48 md:h-full",children:e.jsx("img",{src:$(s.image)||"https://images.unsplash.com/photo-1488646953014-85cb44e25828?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80",alt:s.title,className:"h-full w-full object-cover"})})}),e.jsxs("div",{className:"md:w-2/3 p-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:s.title}),s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price)&&e.jsxs("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold",children:[R(parseFloat(s.price),parseFloat(s.offer_price)),"% OFF"]})]}),e.jsxs("div",{className:"flex items-center mt-2 text-gray-600",children:[e.jsx(A,{className:"h-4 w-4 mr-1"}),s.destination?.name||"Unknown Destination"," •",e.jsx(E,{className:"h-4 w-4 ml-3 mr-1"}),s.duration_days," days"]}),e.jsx("p",{className:"mt-3 text-gray-600 line-clamp-2",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center mt-4",children:[e.jsx("div",{className:"text-lg font-bold",children:s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price)?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-red-600",children:l(s.offer_price)}),e.jsx("span",{className:"text-gray-400 line-through ml-2",children:l(s.price)})]}):e.jsx("span",{className:"text-gray-900",children:l(s.price)})}),e.jsx(v,{href:route("packages.show",s.id),className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"View Details"})]})]})]})},s.id))}),h.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:e.jsx(M,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No packages found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Try adjusting your search or filter criteria"}),e.jsx("button",{onClick:L,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700",children:"Clear All Filters"})]}),S.length>3&&e.jsx("div",{className:"mt-8",children:e.jsx("nav",{className:"flex justify-center",children:e.jsx("ul",{className:"flex items-center space-x-1",children:S.map((s,r)=>e.jsx("li",{children:e.jsx(v,{href:s.url||"#",className:`px-3 py-2 rounded-md text-sm font-medium ${s.active?"bg-indigo-600 text-white":"text-gray-700 hover:bg-gray-100"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}})},r))})})})]})]})]})}export{ce as default};
