import{b as ce,r as d,j as e,H as me,L as M,a as A}from"./app-C7rwmfcS.js";import{A as xe}from"./AdminLayout-CyG2N3OH.js";import{F as ue,a as he}from"./PencilIcon-BshoeJ5U.js";import{F as x}from"./XMarkIcon-DQSo36bu.js";import{F as T}from"./PlusIcon-DZqqzlOP.js";import{F as $}from"./TicketIcon-CH8U8-AR.js";import{F as J}from"./StarIcon-BSaBHEVi.js";import{F as fe}from"./CurrencyDollarIcon-DwGh5nRL.js";import{F as ge}from"./MagnifyingGlassIcon-DbtKTknW.js";import{F as pe}from"./FunnelIcon-edMO900g.js";import{F as q}from"./TrashIcon-fHHLn2vp.js";import{F as W}from"./PhotoIcon-D6oMPSwm.js";import{F as ye}from"./MapPinIcon-B6SydrzP.js";import{F as be}from"./CalendarDaysIcon-BWtYXokB.js";import{F as je}from"./ClockIcon-BxF3tzX6.js";import{F as ve}from"./EyeIcon-DDFxnpfp.js";/* empty css            */import"./Squares2X2Icon-DJChz5O5.js";import"./UserGroupIcon-BFqEtCNI.js";import"./portal-BgFUahiJ.js";import"./transition-Cy0wZH5_.js";import"./ChevronDownIcon-agjRIJMC.js";import"./UserIcon-DFOqjxtt.js";function Ge({packages:G,destinations:I}){const{flash:w}=ce().props,[u,z]=d.useState(""),[m,H]=d.useState("all"),[c,h]=d.useState([]),[K,f]=d.useState(!1),[g,R]=d.useState(null),[a,l]=d.useState({title:"",description:"",price:"",offer_price:"",duration_days:"",destination_id:"",available_dates:[],image:null,inclusions:[],itinerary:[],is_featured:!1,is_active:!0}),[D,_]=d.useState(""),[n,p]=d.useState({day:"",title:"",description:""}),[k,F]=d.useState(""),[j,S]=d.useState(null),[E,v]=d.useState({}),[L,N]=d.useState(!1),y=G||{},b=y.data||[],O=y.links||[],U=()=>{R(null),l({title:"",description:"",price:"",offer_price:"",duration_days:"",destination_id:I?.[0]?.id?.toString()||"",available_dates:[],image:null,inclusions:[],itinerary:[],is_featured:!1,is_active:!0}),_(""),p({day:"",title:"",description:""}),F(""),S(null),v({}),f(!0)},Q=s=>{R(s);let t=[],o=[],i=[];try{if(s.available_dates){const r=typeof s.available_dates=="string"?JSON.parse(s.available_dates):s.available_dates;Array.isArray(r)&&(t=r)}}catch(r){console.error("Error parsing available_dates:",r)}try{if(s.inclusions){const r=typeof s.inclusions=="string"?JSON.parse(s.inclusions):s.inclusions;Array.isArray(r)&&(o=r)}}catch(r){console.error("Error parsing inclusions:",r)}try{if(s.itinerary){const r=typeof s.itinerary=="string"?JSON.parse(s.itinerary):s.itinerary;Array.isArray(r)&&(i=r)}}catch(r){console.error("Error parsing itinerary:",r)}l({title:s.title||"",description:s.description||"",price:s.price?.toString()||"",offer_price:s.offer_price?.toString()||"",duration_days:s.duration_days?.toString()||"",destination_id:s.destination_id?.toString()||"",available_dates:t,image:null,inclusions:o,itinerary:i,is_featured:!!s.is_featured,is_active:!!(s.is_active===void 0||s.is_active)}),s.image&&S(B(s.image)),_(""),p({day:"",title:"",description:""}),F(""),v({}),f(!0)},B=s=>s?s.startsWith("http")?s:s.startsWith("storage/")?`/${s}`:s.startsWith("/storage")?s:`/storage/${s}`:null,V=s=>{s.preventDefault(),N(!0),v({});const t=new FormData;["title","description","price","offer_price","duration_days","destination_id"].forEach(i=>{a[i]!==void 0&&a[i]!==null&&t.append(i,a[i].toString())}),t.append("is_featured",a.is_featured?"1":"0"),t.append("is_active",a.is_active?"1":"0"),a.available_dates&&Array.isArray(a.available_dates)&&a.available_dates.forEach((i,r)=>{t.append(`available_dates[${r}]`,i)}),a.inclusions&&Array.isArray(a.inclusions)&&a.inclusions.forEach((i,r)=>{t.append(`inclusions[${r}]`,i)}),a.itinerary&&Array.isArray(a.itinerary)&&a.itinerary.forEach((i,r)=>{t.append(`itinerary[${r}][day]`,i.day.toString()),t.append(`itinerary[${r}][title]`,i.title),t.append(`itinerary[${r}][description]`,i.description)}),a.image instanceof File&&t.append("image",a.image),g&&!a.image&&!j&&g.image&&t.append("remove_image","1"),g?(t.append("_method","PUT"),A.post(route("admin.packages.update",g.id),t,{forceFormData:!0,onSuccess:()=>{N(!1),f(!1)},onError:i=>{v(i),N(!1)}})):A.post(route("admin.packages.store"),t,{forceFormData:!0,onSuccess:()=>{N(!1),f(!1)},onError:i=>{v(i),N(!1)}})},X=s=>{confirm(`Are you sure you want to delete "${s.title}"?`)&&A.delete(route("admin.packages.destroy",s.id),{preserveScroll:!0})},Y=()=>{c.length!==0&&confirm(`Are you sure you want to delete ${c.length} packages?`)&&A.post(route("admin.packages.bulk-delete"),{ids:c},{preserveScroll:!0,onSuccess:()=>h([])})},Z=s=>{const t=s.target.files[0];if(t){l({...a,image:t});const o=new FileReader;o.onloadend=()=>{S(o.result)},o.readAsDataURL(t)}},ee=()=>{l({...a,image:null}),S(null)},se=()=>{D.trim()&&(l({...a,inclusions:[...a.inclusions,D.trim()]}),_(""))},te=s=>{const t=[...a.inclusions];t.splice(s,1),l({...a,inclusions:t})},ae=()=>{n.day&&n.title&&n.description&&(l({...a,itinerary:[...a.itinerary,{day:parseInt(n.day)||1,title:n.title,description:n.description}]}),p({day:"",title:"",description:""}))},re=s=>{const t=[...a.itinerary];t.splice(s,1),l({...a,itinerary:t})},ie=()=>{k&&(l({...a,available_dates:[...a.available_dates,k]}),F(""))},le=s=>{const t=[...a.available_dates];t.splice(s,1),l({...a,available_dates:t})},P=b.filter(s=>{const t=u===""||s.title&&s.title.toLowerCase().includes(u.toLowerCase())||s.description&&s.description.toLowerCase().includes(u.toLowerCase()),o=m==="all"||m==="active"&&s.is_active||m==="inactive"&&!s.is_active||m==="featured"&&s.is_featured;return t&&o}),C=s=>{const t=parseFloat(s||0);return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(t)},ne=s=>{if(!s)return 0;try{const t=typeof s=="string"?JSON.parse(s):s;return Array.isArray(t)?t.length:0}catch{return 0}},de=s=>{if(!s)return"No inclusions";try{const t=typeof s=="string"?JSON.parse(s):s;if(Array.isArray(t)&&t.length>0)return t[0]+(t.length>1?` +${t.length-1} more`:"")}catch{return"No inclusions"}return"No inclusions"};return e.jsxs(xe,{title:"Packages",children:[e.jsx(me,{title:"Manage Packages"}),e.jsxs("div",{className:"space-y-6",children:[w?.success&&e.jsx("div",{className:"rounded-md bg-green-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ue,{className:"h-5 w-5 text-green-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-green-800",children:w.success})})]})}),w?.error&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(x,{className:"h-5 w-5 text-red-400"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-red-800",children:w.error})})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900"}),e.jsx("p",{className:"text-gray-600 mt-1"})]}),e.jsxs("button",{onClick:U,className:"inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add New Package"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Packages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:y.total||0})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-blue-50 flex items-center justify-center",children:e.jsx($,{className:"h-6 w-6 text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Packages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:b.filter(s=>s.is_active).length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-green-50 flex items-center justify-center",children:e.jsx("div",{className:"h-6 w-6 rounded-full bg-green-500"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Featured Packages"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:b.filter(s=>s.is_featured).length})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-yellow-50 flex items-center justify-center",children:e.jsx(J,{className:"h-6 w-6 text-yellow-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Price"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:C(b.length>0?b.reduce((s,t)=>s+parseFloat(t.price||0),0)/b.length:0)})]}),e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-50 flex items-center justify-center",children:e.jsx(fe,{className:"h-6 w-6 text-purple-600"})})]})})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ge,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search packages by title or description...",value:u,onChange:s=>z(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5 text-gray-400"}),e.jsxs("select",{value:m,onChange:s=>H(s.target.value),className:"border border-gray-300 rounded-lg py-2 px-4 focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"}),e.jsx("option",{value:"featured",children:"Featured"})]})]}),c.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[c.length," selected"]}),e.jsxs("button",{onClick:Y,className:"inline-flex items-center rounded-md bg-red-600 px-3 py-2 text-sm font-semibold text-white hover:bg-red-500",children:[e.jsx(q,{className:"h-4 w-4 mr-1"}),"Delete Selected"]}),e.jsx("button",{onClick:()=>h([]),className:"p-2 text-gray-400 hover:text-gray-600",children:e.jsx(x,{className:"h-5 w-5"})})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-12",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500",onChange:s=>{s.target.checked?h(P.map(t=>t.id)):h([])}})}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Package"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destination"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.length>0?P.map(s=>{const t=B(s.image),o=ne(s.available_dates),i=de(s.inclusions);return e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:c.includes(s.id),onChange:r=>{r.target.checked?h([...c,s.id]):h(c.filter(oe=>oe!==s.id))},className:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-16 w-16 flex-shrink-0 rounded-lg overflow-hidden bg-gradient-to-br from-blue-50 to-purple-50 border border-gray-200 relative group",children:t?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:t,alt:s.title,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105",onError:r=>{r.target.onerror=null,r.target.src="https://via.placeholder.com/150/3B82F6/FFFFFF?text=Travel"}}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-opacity duration-300"})]}):e.jsx("div",{className:"h-full w-full flex items-center justify-center bg-gradient-to-br from-blue-100 to-purple-100",children:e.jsx(W,{className:"h-8 w-8 text-gray-400"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:s.title||"Untitled Package"}),s.is_featured&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:[e.jsx(J,{className:"h-3 w-3 mr-1"}),"Featured"]})]}),e.jsx("div",{className:"text-sm text-gray-500 mt-1 line-clamp-1",children:s.description||"No description available"}),e.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),i]})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(ye,{className:"h-4 w-4 text-gray-400 mr-2"}),s.destination?.name||"No destination"]})}),e.jsxs("td",{className:"px-6 py-4",children:[s.offer_price&&parseFloat(s.offer_price)<parseFloat(s.price)?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-red-600",children:C(s.offer_price)}),e.jsx("div",{className:"text-xs text-gray-500 line-through",children:C(s.price)}),e.jsxs("div",{className:"text-xs bg-red-100 text-red-800 px-2 py-0.5 rounded mt-1 inline-block",children:[Math.round((parseFloat(s.price)-parseFloat(s.offer_price))/parseFloat(s.price)*100),"% OFF"]})]}):e.jsx("div",{className:"text-sm font-bold text-gray-900",children:C(s.price)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[e.jsx(be,{className:"h-3 w-3 inline mr-1"}),o," dates"]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(je,{className:"h-4 w-4 text-gray-400 mr-2"}),s.duration_days||0," days"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-medium ${s.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(M,{href:route("packages.show",s.id),target:"_blank",className:"text-gray-400 hover:text-gray-600 p-1 hover:bg-gray-100 rounded",title:"Preview",children:e.jsx(ve,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>Q(s),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded",title:"Edit",children:e.jsx(he,{className:"h-5 w-5"})}),e.jsx("button",{onClick:()=>X(s),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded",title:"Delete",children:e.jsx(q,{className:"h-5 w-5"})})]})})]},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx($,{className:"h-12 w-12 text-gray-400 mb-3"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No packages found"}),e.jsx("p",{className:"text-gray-500 mt-1 max-w-md",children:u||m!=="all"?"Try adjusting your search or filter":"Get started by creating your first travel package"}),e.jsxs("button",{onClick:U,className:"mt-4 inline-flex items-center rounded-md bg-indigo-600 px-4 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500",children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Add New Package"]})]})})})})]})})}),O.length>3&&m==="all"&&u===""&&e.jsx("div",{className:"bg-white rounded-xl shadow-sm px-6 py-4",children:e.jsx("nav",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",e.jsx("span",{className:"font-medium",children:y.from||0})," to"," ",e.jsx("span",{className:"font-medium",children:y.to||0})," of"," ",e.jsx("span",{className:"font-medium",children:y.total||0})," results"]})}),e.jsx("div",{children:e.jsx("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:O.map((s,t)=>e.jsx(M,{href:s.url||"#",className:`relative inline-flex items-center px-4 py-2 text-sm font-medium ${s.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"} ${s.url?"":"opacity-50 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})})})]}),K&&e.jsx("div",{className:"fixed z-50 inset-0 overflow-y-auto",children:e.jsxs("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:e.jsx("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),e.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),e.jsxs("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full sm:p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"absolute top-0 right-0 pt-4 pr-4",children:e.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:e.jsx(x,{className:"h-6 w-6"})})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-6",children:g?"Edit Package":"Create New Package"}),e.jsxs("form",{onSubmit:V,className:"space-y-6",children:[Object.keys(E).length>0&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsx("div",{className:"flex",children:e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Please fix the following errors:"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:Object.entries(E).map(([s,t])=>e.jsx("li",{children:Array.isArray(t)?t.join(", "):t},s))})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Title *"}),e.jsx("input",{type:"text",value:a.title||"",onChange:s=>l({...a,title:s.target.value}),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Destination *"}),e.jsxs("select",{value:a.destination_id||"",onChange:s=>l({...a,destination_id:s.target.value}),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0,children:[e.jsx("option",{value:"",children:"Select Destination"}),I?.map(s=>e.jsx("option",{value:s.id,children:s.name},s.id))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{value:a.description||"",onChange:s=>l({...a,description:s.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.price||"",onChange:s=>l({...a,price:s.target.value}),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Offer Price ($) ",e.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:a.offer_price||"",onChange:s=>l({...a,offer_price:s.target.value}),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),a.offer_price&&parseFloat(a.offer_price)<parseFloat(a.price||0)&&e.jsxs("p",{className:"mt-1 text-xs text-green-600",children:["Discount: ",Math.round((parseFloat(a.price||0)-parseFloat(a.offer_price))/parseFloat(a.price||1)*100),"% off"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (Days) *"}),e.jsx("input",{type:"number",min:"1",value:a.duration_days||"",onChange:s=>l({...a,duration_days:s.target.value}),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_featured",checked:a.is_featured||!1,onChange:s=>l({...a,is_featured:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_featured",className:"ml-2 block text-sm text-gray-900",children:"Featured Package"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"is_active",checked:a.is_active!==void 0?a.is_active:!0,onChange:s=>l({...a,is_active:s.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"is_active",className:"ml-2 block text-sm text-gray-900",children:"Active"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Package Image"}),e.jsxs("div",{className:"space-y-4",children:[j&&e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative h-64 w-full overflow-hidden rounded-lg border-2 border-dashed border-gray-300 bg-gray-50",children:[e.jsx("img",{src:j,alt:"Package preview",className:"h-full w-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),e.jsx("button",{type:"button",onClick:ee,className:"absolute top-3 right-3 bg-white hover:bg-gray-100 text-gray-800 rounded-full p-2 shadow-lg transition-colors duration-200",children:e.jsx(x,{className:"h-5 w-5"})})]})}),e.jsx("div",{className:`flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-md transition-colors duration-200 ${j?"border-gray-200":"border-gray-300 hover:border-indigo-400"}`,children:e.jsx("div",{className:"space-y-1 text-center",children:!j&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400",children:e.jsx(W,{className:"h-full w-full"})}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsxs("label",{className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500",children:[e.jsx("span",{className:"px-3 py-2 border border-indigo-600 rounded-md hover:bg-indigo-50 transition-colors duration-200",children:"Choose an image"}),e.jsx("input",{type:"file",className:"sr-only",onChange:Z,accept:"image/*"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"or drag and drop here"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF, WEBP up to 2MB"})]})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Inclusions"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"text",value:D,onChange:s=>_(s.target.value),className:"flex-1 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Add inclusion (e.g., Breakfast, WiFi, etc.)"}),e.jsx("button",{type:"button",onClick:se,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:a.inclusions?.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded",children:[e.jsx("span",{className:"text-sm text-gray-700",children:s}),e.jsx("button",{type:"button",onClick:()=>te(t),className:"text-red-500 hover:text-red-700",children:e.jsx(x,{className:"h-4 w-4"})})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Itinerary"}),e.jsxs("div",{className:"space-y-4 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{type:"number",value:n.day,onChange:s=>p({...n,day:s.target.value}),className:"border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Day"}),e.jsx("input",{type:"text",value:n.title,onChange:s=>p({...n,title:s.target.value}),className:"border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Title"}),e.jsx("input",{type:"text",value:n.description,onChange:s=>p({...n,description:s.target.value}),className:"border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Description"})]}),e.jsx("button",{type:"button",onClick:ae,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Day"})]}),e.jsx("div",{className:"space-y-3",children:a.itinerary?.map((s,t)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-indigo-300 transition-colors duration-200",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("span",{className:"font-medium text-gray-900",children:["Day ",s.day,": ",s.title]}),e.jsx("button",{type:"button",onClick:()=>re(t),className:"text-red-500 hover:text-red-700",children:e.jsx(x,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:s.description})]},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Dates"}),e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("input",{type:"date",value:k,onChange:s=>F(s.target.value),className:"flex-1 border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),e.jsx("button",{type:"button",onClick:ie,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Add Date"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:a.available_dates?.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-50 px-3 py-2 rounded hover:bg-gray-100 transition-colors duration-200",children:[e.jsx("span",{className:"text-sm text-gray-700",children:s}),e.jsx("button",{type:"button",onClick:()=>le(t),className:"text-red-500 hover:text-red-700",children:e.jsx(x,{className:"h-4 w-4"})})]},t))})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:L,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:L?"Processing...":g?"Update Package":"Create Package"})]})]})]})]})})]})}export{Ge as default};
